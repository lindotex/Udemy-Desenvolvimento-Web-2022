<!DOCTYPE html>
<html lang="en">
<head>
</head>
<body>
    <script>
        let processoAssincrono = new Promise((resolve, reject) =>   {
            setTimeout(() => resolve('sucesso no processo assincrono'), 3000);
        })

        async function recuperarDados() {
            await processoAssincrono.then(p => console.log(p))

            console.log('processamento assincrono 1')

            //fetch = Método assincrono para requisições http restfull (API)
            // se comporta como um método async/await
            await fetch('https://jsonplaceholder.typicode.com/comments')
                .then(r =>  r.json())
                .then(d => console.log('Comentarios: ', d))
                console.log('Processamento assincrono 2')

                await fetch('https://jsonplaceholder.typicode.com/posts')
                .then(r =>  r.json())
                .then(d => console.log('Posts: ',d))
                console.log('Processamento assincrono 3')
                return 'Fim'
        }

        recuperarDados().then(p=>console.log(p))
    </script>
</body>
</html>
